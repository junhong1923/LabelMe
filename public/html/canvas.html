<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>LabelMe</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
    
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/4.4.0/fabric.min.js"></script> -->
</head>
<body>
    <div class="container pt-4 bg-dark text-white my-3 border">
        <h1>Label ME</h1>
        <p>1. Choose your image and then upload it.</p>
        <p>2. Use annotation tools to label!</p>
        <p>3. Make sure to commit each steps to save your labeling.</p>
        <p>4. Download the labeled image to get the result!</p>
    </div>

    <div >
        <form method="post" enctype="multipart/form-data" name="uploadImage">
            <input id="myImg" type="file" name="OriImage" class="btn btn-secondary active" accept="image/*"/>
            <input type='submit', value='上傳照片', style='margin:10px;'>
        </form>
        <hr>
        <!-- <input type="file" onchange="loadFile(this);" class="btn btn-secondary active" /> -->
        <div class="btn-group">
            <button id="pan" class="btn btn-secondary" onclick="toggleMode(this, modes.pan)">Toggle Pan</button>
            
            <div class="btn-group">
                <button type="button" class="btn btn-secondary dropdown-toggle" data-toggle="dropdown">
                    Annotations<span class="caret"></span>   
                </button>
                <ul class="dropdown-menu">
                    <li><a id="line" onclick="toggleMode(this, modes.drawing)" class="dropdown-item flex-fill" href="#">Line</a></li>
                    <li><a id="bounding" onclick="toggleMode(this, modes.bounding)" class="dropdown-item flex-fill" href="#">Bounding Box</a></li>
                    <li><a id="poly" onclick="toggleMode(this, modes.poly)" class="dropdown-item flex-fill" href="#">Polygon</a></li>
                </ul>
            </div>
            
            <!-- <button id="line" onclick="drawEvent(this);" class="btn btn-secondary">Line</button>
            <button id="bounding" onclick="drawEvent(this);" class="btn btn-secondary">Bounding Box</button>
            <button id="poly" onclick="drawEvent(this);" class="btn btn-secondary">Polygon</button> -->
        </div>

        <div class="btn-group">
            <button class="btn btn-secondary" onclick="groupObjects(canvas, group, true)">Group</button>
            <button class="btn btn-secondary" onclick="groupObjects(canvas, group, false)">Ungroup</button>
        </div>

        

        <div class="btn-group">
            <button id="zoomInBtn" class="btn btn-secondary">Zoom in</button>
            <button id="zoomOutBtn" class="btn btn-secondary">Zoom out</button>
            目前縮放: <input type="text" readonly value="100%" id="zoom">
        </div>

        <hr>
        <button onclick="undo();" class="btn btn-secondary">Undo</button>
        <button onclick="clearCanvas(canvas);" class="btn btn-secondary">Clear all</button> <!-- clearPad(); -->
        <button onclick="restoreCanvas(canvas, svgState);" class="btn btn-secondary">Restore</button>
        <button onclick="commitLabel(canvas)" class="btn btn-secondary">Save & Commit</button>
        <input type="submit" value="Download labeled image" onclick="saveFile();"></input>
        <a id="download"></a>
    </div>

    <canvas id="canvas" width="800" height="600" style='border:1px solid #000000;'></canvas>
    
    <script src="../js/fabric.min.js"></script>
    <script src="../js/index.js"></script>

</body>
</html>